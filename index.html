<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Test</title>
  <link rel="stylesheet" href="styles.css" type="text/css">
  </head>
  <body>
    <div class="image-container">
        <img class="image" src="./img/v02/9.png" />
        <!-- <img id="city9" class="image" src="./img/9.png" /> -->
        <img id="city8" class="image" src="./img/v02/8.png" />
        <img id="city7" class="image" src="./img/v02/7.png" />
        <img id="city6" class="image" src="./img/v02/6.png" />
        <!-- <h1>HotTub</h1> -->
        <img id="city5" class="image" src="./img/v02/5.png" />
        <img id="city4" class="image" src="./img/v02/4.png" />
        <img id="city3" class="image" src="./img/v02/3.png" />
        <img id="city2" class="image" src="./img/v02/2.png" />
        <img id="city1" class="image image-front" src="./img/v02/1.png" />
    </div>
    <div class="clear"></div>
    <div class="hold" style="background-color: red;">
        <p>Hmmm</p>
    </div>

    <script>
        buildingState = {
            changeX: 0,
            changeY: 0
        }

        previousBuildingState = {
            changeX: 0,
            changeY: 0
        }

        window.addEventListener('scroll', function(e){moveY(e)});
        function moveY (e){
            let change2 = -(window.scrollY / 2);
            
            // Save current state in history state for animation
            previousBuildingState.changeY = buildingState.changeY;
            buildingState.changeY = change2;
            render();
        }

        window.addEventListener('mousemove', function(e){moveX(e)});
        function moveX(e){
            const width = window.innerWidth;
            let change;
            
            if (e.clientX > width / 2){
                // Moving right
                change = -(e.clientX - (width / 2));
            } else {
                // Moving left
                change = (width / 2) - e.clientX;
            }
            
            change = change / 70;

            // Save current state in history state for animation
            previousBuildingState.changeX = buildingState.changeX;
            buildingState.changeX = change;
            render();
        }

        function render () {
            document.getElementById('city1').style.webkitTransform = `translateX(${buildingState.changeX * 10}px) translateY(${buildingState.changeY * 7}px)`;
            document.getElementById('city2').style.webkitTransform = `translateX(${buildingState.changeX * 9}px) translateY(${buildingState.changeY * 6}px)`;
            document.getElementById('city3').style.webkitTransform = `translateX(${buildingState.changeX * 8}px) translateY(${buildingState.changeY * 5}px)`;
            document.getElementById('city4').style.webkitTransform = `translateX(${buildingState.changeX * 7}px) translateY(${buildingState.changeY * 4}px)`;
            document.getElementById('city5').style.webkitTransform = `translateX(${buildingState.changeX * 6}px) translateY(${buildingState.changeY * 3}px)`;
            document.getElementById('city6').style.webkitTransform = `translateX(${buildingState.changeX * 5}px) translateY(${buildingState.changeY * 2}px)`;
            document.getElementById('city7').style.webkitTransform = `translateX(${buildingState.changeX * 4}px) translateY(${buildingState.changeY * 1}px)`;
            document.getElementById('city8').style.webkitTransform = `translateX(${buildingState.changeX}px) translateY(${buildingState.changeY * 0}px)`;
        }
</script>
  </body>
</html>